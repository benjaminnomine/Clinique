/**
 * Minified by jsDelivr using Terser v5.3.0.
 * Original file: /npm/moment@2.29.0/src/lib/units/era.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{addFormatToken}from"../format/format";import{addRegexToken,matchUnsigned,regexEscape}from"../parse/regex";import{addParseToken}from"../parse/token";import{YEAR}from"./constants";import{hooks as moment}from"../utils/hooks";import{getLocale}from"../locale/locales";import getParsingFlags from"../create/parsing-flags";import hasOwnProp from"../utils/has-own-prop";addFormatToken("N",0,0,"eraAbbr"),addFormatToken("NN",0,0,"eraAbbr"),addFormatToken("NNN",0,0,"eraAbbr"),addFormatToken("NNNN",0,0,"eraName"),addFormatToken("NNNNN",0,0,"eraNarrow"),addFormatToken("y",["y",1],"yo","eraYear"),addFormatToken("y",["yy",2],0,"eraYear"),addFormatToken("y",["yyy",3],0,"eraYear"),addFormatToken("y",["yyyy",4],0,"eraYear"),addRegexToken("N",matchEraAbbr),addRegexToken("NN",matchEraAbbr),addRegexToken("NNN",matchEraAbbr),addRegexToken("NNNN",matchEraName),addRegexToken("NNNNN",matchEraNarrow),addParseToken(["N","NN","NNN","NNNN","NNNNN"],(function(e,r,a,t){var n=a._locale.erasParse(e,t,a._strict);n?getParsingFlags(a).era=n:getParsingFlags(a).invalidEra=e})),addRegexToken("y",matchUnsigned),addRegexToken("yy",matchUnsigned),addRegexToken("yyy",matchUnsigned),addRegexToken("yyyy",matchUnsigned),addRegexToken("yo",matchEraYearOrdinal),addParseToken(["y","yy","yyy","yyyy"],YEAR),addParseToken(["yo"],(function(e,r,a,t){var n;a._locale._eraYearOrdinalRegex&&(n=e.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?r[YEAR]=a._locale.eraYearOrdinalParse(e,n):r[YEAR]=parseInt(e,10)}));export function localeEras(e,r){var a,t,n,s=this._eras||getLocale("en")._eras;for(a=0,t=s.length;a<t;++a){switch(typeof s[a].since){case"string":n=moment(s[a].since).startOf("day"),s[a].since=n.valueOf()}switch(typeof s[a].until){case"undefined":s[a].until=1/0;break;case"string":n=moment(s[a].until).startOf("day").valueOf(),s[a].until=n.valueOf()}}return s}export function localeErasParse(e,r,a){var t,n,s,o,i,c=this.eras();for(e=e.toUpperCase(),t=0,n=c.length;t<n;++t)if(s=c[t].name.toUpperCase(),o=c[t].abbr.toUpperCase(),i=c[t].narrow.toUpperCase(),a)switch(r){case"N":case"NN":case"NNN":if(o===e)return c[t];break;case"NNNN":if(s===e)return c[t];break;case"NNNNN":if(i===e)return c[t]}else if([s,o,i].indexOf(e)>=0)return c[t]}export function localeErasConvertYear(e,r){var a=e.since<=e.until?1:-1;return void 0===r?moment(e.since).year():moment(e.since).year()+(r-e.offset)*a}export function getEraName(){var e,r,a,t=this.localeData().eras();for(e=0,r=t.length;e<r;++e){if(a=this.clone().startOf("day").valueOf(),t[e].since<=a&&a<=t[e].until)return t[e].name;if(t[e].until<=a&&a<=t[e].since)return t[e].name}return""}export function getEraNarrow(){var e,r,a,t=this.localeData().eras();for(e=0,r=t.length;e<r;++e){if(a=this.clone().startOf("day").valueOf(),t[e].since<=a&&a<=t[e].until)return t[e].narrow;if(t[e].until<=a&&a<=t[e].since)return t[e].narrow}return""}export function getEraAbbr(){var e,r,a,t=this.localeData().eras();for(e=0,r=t.length;e<r;++e){if(a=this.clone().startOf("day").valueOf(),t[e].since<=a&&a<=t[e].until)return t[e].abbr;if(t[e].until<=a&&a<=t[e].since)return t[e].abbr}return""}export function getEraYear(){var e,r,a,t,n=this.localeData().eras();for(e=0,r=n.length;e<r;++e)if(a=n[e].since<=n[e].until?1:-1,t=this.clone().startOf("day").valueOf(),n[e].since<=t&&t<=n[e].until||n[e].until<=t&&t<=n[e].since)return(this.year()-moment(n[e].since).year())*a+n[e].offset;return this.year()}export function erasNameRegex(e){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),e?this._erasNameRegex:this._erasRegex}export function erasAbbrRegex(e){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),e?this._erasAbbrRegex:this._erasRegex}export function erasNarrowRegex(e){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),e?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(e,r){return r.erasAbbrRegex(e)}function matchEraName(e,r){return r.erasNameRegex(e)}function matchEraNarrow(e,r){return r.erasNarrowRegex(e)}function matchEraYearOrdinal(e,r){return r._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var e,r,a=[],t=[],n=[],s=[],o=this.eras();for(e=0,r=o.length;e<r;++e)t.push(regexEscape(o[e].name)),a.push(regexEscape(o[e].abbr)),n.push(regexEscape(o[e].narrow)),s.push(regexEscape(o[e].name)),s.push(regexEscape(o[e].abbr)),s.push(regexEscape(o[e].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}
//# sourceMappingURL=/sm/8a0b5a77dd9f15492e06da02a9ca80407a64d8598fcfe640d81c8d99466e7deb.map